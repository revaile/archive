<!DOCTYPE html>
<html lang="{{ str_replace('_', '-', app()->getLocale()) }}">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="csrf-token" content="{{ csrf_token() }}">

    <title>{{ config('app.name', 'Laravel') }}</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.bunny.net">
    <link href="https://fonts.bunny.net/css?family=figtree:400,500,600&display=swap" rel="stylesheet" />

    <!-- Scripts -->
    @vite(['resources/css/app.css', 'resources/js/app.js'])
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    {{-- pwa --}}
    <!-- PWA  -->
    <meta name="theme-color" content="#6777ef" />
    <link rel="apple-touch-icon" href="{{ asset('applogo.png') }}">
    <link rel="manifest" href="{{ asset('/manifest.json') }}">
</head>

<body class="font-sans antialiased bg-gray-100 dark:bg-gray-900">
    <div x-data="{ open: true }" class="flex min-h-screen">
        <!-- Sidebar -->
        <aside :class="open ? 'w-64' : 'w-16'"
            class="bg-white dark:bg-gray-800 shadow-md flex flex-col justify-between transition-width duration-300">
            <div>
                <!-- Toggle Button -->
                <button @click="open = !open" class="p-2 focus:outline-none">
                    <svg class="h-6 w-6 text-gray-700 dark:text-gray-300" xmlns="http://www.w3.org/2000/svg"
                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>

                <div class="p-4 border-b border-gray-200 dark:border-gray-700">
                    <a href="{{ route('dashboard') }}" class="flex items-center">
                        <x-application-logo class="h-8 w-8 text-gray-800 dark:text-gray-200" />
                    </a>
                </div>

                <nav class="mt-4">
                    <ul>
                        @if (Auth::user()->roles == 'admin')
                            <li>
                                <a href="{{ route('index') }}"
                                    class="flex items-center px-6 py-4 text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 rounded-md transition duration-200 ">
                                    <svg width="35" height="35" viewBox="0 0 35 35" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M13.588 29.9486V25.6835C13.588 24.5947 14.4771 23.7121 15.5738 23.7121H19.5829C20.1096 23.7121 20.6147 23.9198 20.9871 24.2895C21.3595 24.6592 21.5688 25.1606 21.5688 25.6835V29.9486C21.5654 30.4013 21.7442 30.8365 22.0655 31.1577C22.3867 31.479 22.8238 31.6596 23.2798 31.6596H26.015C27.2924 31.6629 28.5187 31.1615 29.4231 30.2659C30.3276 29.3703 30.8359 28.1543 30.8359 26.8861V14.7355C30.8359 13.7111 30.3785 12.7394 29.587 12.0822L20.2823 4.70496C18.6638 3.41148 16.3447 3.45325 14.7745 4.80415L5.6822 12.0822C4.85327 12.72 4.35783 13.6946 4.33334 14.7355V26.8737C4.33334 29.5169 6.49174 31.6596 9.15426 31.6596H11.827C12.774 31.6596 13.5437 30.9011 13.5505 29.961L13.588 29.9486Z"
                                            fill="#5D7285" />
                                    </svg>

                                    <span x-show="open" class="ml-3">{{ __('Home') }}</span>
                                </a>
                            </li>
                            <li>
                                <a href="{{ route('dashboard') }}"
                                    class="flex items-center px-6 py-4 text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 rounded-md transition duration-200 ">
                                    <svg width="30" height="30" viewBox="0 0 30 30" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M9.70592 16.6642C11.4256 16.6642 12.8038 18.0558 12.8038 19.7877V23.9455C12.8038 25.6652 11.4256 27.0678 9.70592 27.0678H5.58351C3.876 27.0678 2.4856 25.6652 2.4856 23.9455V19.7877C2.4856 18.0558 3.876 16.6642 5.58351 16.6642H9.70592ZM23.7808 16.6642C25.4883 16.6642 26.8787 18.0558 26.8787 19.7877V23.9455C26.8787 25.6652 25.4883 27.0678 23.7808 27.0678H19.6584C17.9387 27.0678 16.5605 25.6652 16.5605 23.9455V19.7877C16.5605 18.0558 17.9387 16.6642 19.6584 16.6642H23.7808ZM9.70592 2.67517C11.4256 2.67517 12.8038 4.07777 12.8038 5.79869V9.95648C12.8038 11.6884 11.4256 13.0788 9.70592 13.0788H5.58351C3.876 13.0788 2.4856 11.6884 2.4856 9.95648V5.79869C2.4856 4.07777 3.876 2.67517 5.58351 2.67517H9.70592ZM23.7808 2.67517C25.4883 2.67517 26.8787 4.07777 26.8787 5.79869V9.95648C26.8787 11.6884 25.4883 13.0788 23.7808 13.0788H19.6584C17.9387 13.0788 16.5605 11.6884 16.5605 9.95648V5.79869C16.5605 4.07777 17.9387 2.67517 19.6584 2.67517H23.7808Z"
                                            fill="#5D7285" />
                                    </svg>


                                    <span x-show="open" class="ml-3">{{ __('Dashboard') }}</span>
                                </a>
                            </li>
                            <li>
                                <a href="{{ route('dashboard.users.index') }}"
                                    class="flex items-center px-6 py-4 text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 rounded-md transition duration-200">
                                    <svg width="35" height="35" viewBox="0 0 35 35" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M17.5135 20.9303C22.2996 20.9303 26.3862 21.689 26.3862 24.7253C26.3862 27.7604 22.3258 28.5468 17.5135 28.5468C12.7275 28.5468 8.64082 27.788 8.64082 24.753C8.64082 21.7167 12.7012 20.9303 17.5135 20.9303ZM25.1658 19.102C26.9956 19.068 28.9627 19.3193 29.6896 19.4977C31.2296 19.8004 32.2425 20.4185 32.6622 21.3167C33.0169 22.0541 33.0169 22.9096 32.6622 23.6457C32.0202 25.0389 29.9507 25.4861 29.1463 25.6017C28.9802 25.6268 28.8466 25.4823 28.864 25.3153C29.275 21.4549 26.0064 19.6245 25.1608 19.2037C25.1246 19.1849 25.1171 19.156 25.1209 19.1384C25.1234 19.1258 25.1384 19.1057 25.1658 19.102ZM9.65977 19.0993L10.0043 19.1025C10.0318 19.1062 10.0455 19.1263 10.048 19.1376C10.0518 19.1565 10.0443 19.1841 10.0093 19.2042C9.16252 19.625 5.89396 21.4554 6.30487 25.3145C6.32236 25.4828 6.18996 25.6261 6.02385 25.6022C5.21951 25.4866 3.14997 25.0394 2.508 23.6462C2.15204 22.9088 2.15204 22.0546 2.508 21.3172C2.92765 20.419 3.93932 19.8009 5.4793 19.4969C6.20745 19.3198 8.17333 19.0685 10.0043 19.1025L9.65977 19.0993ZM17.5135 6.22885C20.7721 6.22885 23.3849 8.85437 23.3849 12.1331C23.3849 15.4106 20.7721 18.0387 17.5135 18.0387C14.2549 18.0387 11.6421 15.4106 11.6421 12.1331C11.6421 8.85437 14.2549 6.22885 17.5135 6.22885ZM25.4843 7.21349C28.6317 7.21349 31.1035 10.192 30.2616 13.5097C29.6934 15.7433 27.6363 17.2269 25.3444 17.1666C25.1146 17.1603 24.8886 17.139 24.67 17.1013C24.5114 17.0736 24.4314 16.894 24.5214 16.7608C25.3957 15.4669 25.894 13.9105 25.894 12.2397C25.894 10.496 25.3494 8.87045 24.404 7.53759C24.374 7.49614 24.3515 7.43207 24.3815 7.38433C24.4065 7.34539 24.4527 7.32529 24.4964 7.31524C24.8149 7.24992 25.1421 7.21349 25.4843 7.21349ZM9.68396 7.21336C10.0262 7.21336 10.3534 7.24979 10.6731 7.31511C10.7156 7.32516 10.7631 7.34652 10.7881 7.38421C10.8168 7.43194 10.7955 7.49601 10.7656 7.53747C9.8201 8.87033 9.27555 10.4959 9.27555 12.2395C9.27555 13.9103 9.77389 15.4668 10.6482 16.7607C10.7381 16.8939 10.6582 17.0735 10.4995 17.1012C10.2797 17.1401 10.0549 17.1602 9.8251 17.1665C7.53323 17.2268 5.47618 15.7432 4.90789 13.5096C4.06484 10.1919 6.53655 7.21336 9.68396 7.21336Z"
                                            fill="#5D7285" />
                                    </svg>

                                    <span x-show="open" class="ml-3">{{ __('Users') }}</span>
                                </a>
                            </li>
                            <li>
                                <a href="{{ route('dashboard.documents.index') }}"
                                    class="flex items-center px-6 py-4 text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 rounded-md transition duration-200">
                                    <svg width="26" height="29" viewBox="0 0 26 29" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M18.4305 0.623737C22.7393 0.623737 25.1385 3.10661 25.1385 7.36097V21.77C25.1385 26.0941 22.7393 28.5212 18.4305 28.5212H6.74009C2.49968 28.5212 0.0307617 26.0941 0.0307617 21.77V7.36097C0.0307617 3.10661 2.49968 0.623737 6.74009 0.623737H18.4305ZM7.11671 19.7893C6.69825 19.7474 6.29374 19.9427 6.07056 20.3054C5.84738 20.6541 5.84738 21.1144 6.07056 21.4771C6.29374 21.8258 6.69825 22.035 7.11671 21.9792H18.0525C18.6091 21.9234 19.0289 21.4478 19.0289 20.8912C19.0289 20.3193 18.6091 19.8451 18.0525 19.7893H7.11671ZM18.0525 13.4273H7.11671C6.51552 13.4273 6.02871 13.9169 6.02871 14.5167C6.02871 15.1165 6.51552 15.6047 7.11671 15.6047H18.0525C18.6523 15.6047 19.1405 15.1165 19.1405 14.5167C19.1405 13.9169 18.6523 13.4273 18.0525 13.4273ZM11.286 7.10989H7.11671V7.12384C6.51552 7.12384 6.02871 7.61205 6.02871 8.21184C6.02871 8.81164 6.51552 9.29984 7.11671 9.29984H11.286C11.8872 9.29984 12.3754 8.81163 12.3754 8.1965C12.3754 7.5981 11.8872 7.10989 11.286 7.10989Z"
                                            fill="#5D7285" />
                                    </svg>

                                    <span x-show="open" class="ml-3">{{ __('Documents') }}</span>
                                </a>
                            </li>
                        @else
                            <li>
                                <a href="{{ route('index') }}"
                                    class="flex items-center px-6 py-4 text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 rounded-md transition duration-200">
                                    <svg width="27" height="29" viewBox="0 0 27 29" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M9.58801 26.9486V22.6835C9.58801 21.5947 10.4771 20.7121 11.5738 20.7121H15.5829C16.1096 20.7121 16.6147 20.9198 16.9871 21.2895C17.3595 21.6592 17.5688 22.1606 17.5688 22.6835V26.9486C17.5654 27.4013 17.7442 27.8365 18.0655 28.1577C18.3867 28.479 18.8238 28.6596 19.2798 28.6596H22.015C23.2924 28.6629 24.5187 28.1615 25.4231 27.2659C26.3276 26.3703 26.8359 25.1543 26.8359 23.8861V11.7355C26.8359 10.7111 26.3785 9.73938 25.587 9.08216L16.2823 1.70496C14.6638 0.411483 12.3447 0.453246 10.7745 1.80415L1.6822 9.08216C0.853269 9.72001 0.357827 10.6946 0.333344 11.7355V23.8737C0.333344 26.5169 2.49174 28.6596 5.15426 28.6596H7.827C8.77403 28.6596 9.54368 27.9011 9.55054 26.961L9.58801 26.9486Z"
                                            fill="#5D7285" />
                                    </svg>

                                    <span x-show="open" class="ml-3">{{ __('Home') }}</span>
                                </a>
                            </li>
                            <li>
                                <a href="{{ route('user.mydocuments.index') }}"
                                    class="flex items-center px-6 py-4 text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 rounded-md transition duration-200">
                                    <svg width="26" height="29" viewBox="0 0 26 29" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M18.4305 0.623737C22.7393 0.623737 25.1385 3.10661 25.1385 7.36097V21.77C25.1385 26.0941 22.7393 28.5212 18.4305 28.5212H6.74009C2.49968 28.5212 0.0307617 26.0941 0.0307617 21.77V7.36097C0.0307617 3.10661 2.49968 0.623737 6.74009 0.623737H18.4305ZM7.11671 19.7893C6.69825 19.7474 6.29374 19.9427 6.07056 20.3054C5.84738 20.6541 5.84738 21.1144 6.07056 21.4771C6.29374 21.8258 6.69825 22.035 7.11671 21.9792H18.0525C18.6091 21.9234 19.0289 21.4478 19.0289 20.8912C19.0289 20.3193 18.6091 19.8451 18.0525 19.7893H7.11671ZM18.0525 13.4273H7.11671C6.51552 13.4273 6.02871 13.9169 6.02871 14.5167C6.02871 15.1165 6.51552 15.6047 7.11671 15.6047H18.0525C18.6523 15.6047 19.1405 15.1165 19.1405 14.5167C19.1405 13.9169 18.6523 13.4273 18.0525 13.4273ZM11.286 7.10989H7.11671V7.12384C6.51552 7.12384 6.02871 7.61205 6.02871 8.21184C6.02871 8.81164 6.51552 9.29984 7.11671 9.29984H11.286C11.8872 9.29984 12.3754 8.81163 12.3754 8.1965C12.3754 7.5981 11.8872 7.10989 11.286 7.10989Z"
                                            fill="#5D7285" />
                                    </svg>


                                    <span x-show="open" class="ml-3">{{ __('Documents') }}</span>
                                </a>
                            </li>
                        @endif
                    </ul>
                </nav>
            </div>

            <!-- Profile and Logout -->
            <div class="border-t border-gray-200 dark:border-gray-700 p-4">
                @auth
                    @if(auth()->user()->roles === 'admin')
                <a href="{{ route('profile.edit') }}"
                    class="flex items-center px-6 py-2 text-gray-700 hover:bg-gray-200 dark:text-gray -300 dark:hover:bg-gray-700 rounded-md transition duration-200">
                    <svg width="31" height="23" viewBox="0 0 31 23" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M15.5136 14.9303C20.2996 14.9303 24.3863 15.689 24.3863 18.7253C24.3863 21.7604 20.3259 22.5468 15.5136 22.5468C10.7275 22.5468 6.64088 21.788 6.64088 18.753C6.64088 15.7167 10.7013 14.9303 15.5136 14.9303ZM23.1659 13.102C24.9956 13.068 26.9628 13.3193 27.6897 13.4977C29.2297 13.8004 30.2426 14.4185 30.6622 15.3167C31.0169 16.0541 31.0169 16.9096 30.6622 17.6457C30.0203 19.0389 27.9507 19.4861 27.1464 19.6017C26.9803 19.6268 26.8466 19.4823 26.8641 19.3153C27.275 15.4549 24.0065 13.6245 23.1609 13.2037C23.1247 13.1849 23.1172 13.156 23.1209 13.1384C23.1234 13.1258 23.1384 13.1057 23.1659 13.102ZM7.65983 13.0993L8.00439 13.1025C8.03186 13.1062 8.0456 13.1263 8.0481 13.1376C8.05185 13.1565 8.04435 13.1841 8.00938 13.2042C7.16258 13.625 3.89402 15.4554 4.30493 19.3145C4.32242 19.4828 4.19003 19.6261 4.02391 19.6022C3.21957 19.4866 1.15003 19.0394 0.508057 17.6462C0.1521 16.9088 0.1521 16.0546 0.508057 15.3172C0.927711 14.419 1.93938 13.8009 3.47936 13.4969C4.20751 13.3198 6.17339 13.0685 8.00439 13.1025L7.65983 13.0993ZM15.5136 0.228851C18.7721 0.228851 21.385 2.85437 21.385 6.13314C21.385 9.41064 18.7721 12.0387 15.5136 12.0387C12.255 12.0387 9.64216 9.41064 9.64216 6.13314C9.64216 2.85437 12.255 0.228851 15.5136 0.228851ZM23.4844 1.21349C26.6318 1.21349 29.1035 4.19201 28.2617 7.50971C27.6934 9.74329 25.6364 11.2269 23.3445 11.1666C23.1147 11.1603 22.8886 11.139 22.6701 11.1013C22.5114 11.0736 22.4315 10.894 22.5214 10.7608C23.3957 9.46692 23.8941 7.91045 23.8941 6.23966C23.8941 4.49602 23.3495 2.87045 22.404 1.53759C22.3741 1.49614 22.3516 1.43207 22.3815 1.38433C22.4065 1.34539 22.4527 1.32529 22.4965 1.31524C22.8149 1.24992 23.1422 1.21349 23.4844 1.21349ZM7.68402 1.21336C8.02624 1.21336 8.35347 1.24979 8.67321 1.31511C8.71568 1.32516 8.76314 1.34652 8.78812 1.38421C8.81684 1.43194 8.79561 1.49601 8.76563 1.53747C7.82016 2.87033 7.27561 4.49589 7.27561 6.23954C7.27561 7.91033 7.77395 9.4668 8.64823 10.7607C8.73816 10.8939 8.65822 11.0735 8.4996 11.1012C8.27978 11.1401 8.05497 11.1602 7.82516 11.1665C5.53329 11.2268 3.47624 9.74317 2.90796 7.50959C2.0649 4.19188 4.53661 1.21336 7.68402 1.21336Z"
                            fill="#5D7285" />
                    </svg>

                    <span x-show="open" class="ml-3">{{ __('Profile') }}</span>
                </a>
                @endif
                @endauth
                <form method="POST" action="{{ route('logout') }}" class="mt-2">
                    @csrf
                    <button type="submit"
                        class="flex items-center w-full text-left px-6 py-2 text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 rounded-md transition duration-200">
                        <svg width="35" height="35" viewBox="0 0 35 35" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M16.877 3.75891C20.3399 3.75891 23.1641 6.53471 23.1641 9.95214V16.6336H14.6489C14.0386 16.6336 13.5561 17.1078 13.5561 17.7076C13.5561 18.2935 14.0386 18.7817 14.6489 18.7817H23.1641V25.4492C23.1641 28.8666 20.3399 31.6563 16.8487 31.6563H9.93715C6.4601 31.6563 3.63589 28.8806 3.63589 25.4631V9.96609C3.63589 6.53471 6.4743 3.75891 9.95134 3.75891H16.877ZM26.7074 12.8956C27.1258 12.4632 27.8093 12.4632 28.2278 12.8817L32.3008 16.9407C32.51 17.15 32.6216 17.415 32.6216 17.7079C32.6216 17.9869 32.51 18.2659 32.3008 18.4611L28.2278 22.5202C28.0185 22.7294 27.7396 22.841 27.4745 22.841C27.1956 22.841 26.9166 22.7294 26.7074 22.5202C26.2889 22.1018 26.2889 21.4183 26.7074 20.9998L28.9391 18.782H23.1644V16.6339H28.9391L26.7074 14.416C26.2889 13.9975 26.2889 13.3141 26.7074 12.8956Z"
                                fill="#667A8A" />
                        </svg>

                        <span x-show="open" class="ml-3">{{ __('Log Out') }}</span>
                    </button>
                </form>
            </div>
        </aside>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col">
            <header class="bg-white dark:bg-gray-800 shadow">
                <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 flex items-center justify-between">
                    <!-- Nama Pengguna (di ujung kiri) -->
                    <div class="text-gray-800 dark:text-gray-200 font-medium">
                        <span>Hello, {{ Auth::user()->name ?? 'Guest' }}</span>
                    </div>

                    <!-- Judul Header (di tengah) -->
                    <h2
                        class="font-semibold text-xl text-gray-800 dark:text-gray-200 absolute left-1/2 transform -translate-x-1/2">
                        {{ $header ?? '' }}
                    </h2>
                </div>
            </header>



            <!-- Page Content -->
            <main class="flex-1 p-6 bg-gray-100 dark:bg-gray-900">
                {{ $slot }}
            </main>
        </div>
    </div>

    <script src="{{ asset('/sw.js') }}"></script>
    <script>
        if ("serviceWorker" in navigator) {~
            // Register a service worker hosted at the root of the
            // site using the default scope.
            navigator.serviceWorker.register("/sw.js").then(
                (registration) => {
                    console.log("Service worker registration succeeded:", registration);
                },
                (error) => {
                    console.error(`Service worker registration failed: ${error}`);
                },
            );
        } else {
            console.error("Service workers are not supported.");
        }
    </script>
</body>

</html>
